# Guia: Conectando Prisma com MongoDB Atlas

## 1Ô∏è‚É£ Criar o projeto e instalar depend√™ncias
```sh
npm init -y
npm install prisma @prisma/client ts-node-dev typescript -D
```

## 2Ô∏è‚É£ Inicializar o Prisma no projeto
```sh
npx prisma init
```
Isso cria a pasta `prisma/` com o arquivo `schema.prisma` e o `.env` para configura√ß√£o do banco.

---

## 3Ô∏è‚É£ Configurar o MongoDB no `.env`
No arquivo `.env`, adicione sua conex√£o com o banco MongoDB:
```env
DATABASE_URL="mongodb+srv://USUARIO:SENHA@SEU_CLUSTER.mongodb.net/NOME_DO_BANCO?retryWrites=true&w=majority&appName=NOME_DO_APP"
```

---

## 4Ô∏è‚É£ Editar o `schema.prisma` para usar MongoDB
No arquivo `prisma/schema.prisma`, configure para MongoDB:
```prisma
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model Class {
  id         String   @id @default(auto()) @map("_id")
  name       String
  teachers   String
  coverImage String
  created_at DateTime @default(now())
  updated_at DateTime @updatedAt
}
```

---

## 5Ô∏è‚É£ Permitir acesso de qualquer IP no MongoDB Atlas
1. No [MongoDB Atlas](https://cloud.mongodb.com/), v√° at√© **"Network Access"**.
2. Clique em **"Add IP Address"**.
3. Adicione **`0.0.0.0/0`** para permitir conex√µes de qualquer IP.
4. Aguarde a permiss√£o ser ativada.

---

## 6Ô∏è‚É£ Gerar o Prisma Client
```sh
npx prisma generate
```
Isso cria o Prisma Client para interagir com o banco no c√≥digo.

---

## 7Ô∏è‚É£ Enviar o esquema para o MongoDB
```sh
npx prisma db push
```
As collections ser√£o criadas automaticamente no MongoDB Atlas.

---

## 8Ô∏è‚É£ Rodar o servidor
Se seu servidor estiver em `src/server/server.ts`, execute:
```sh
npx ts-node-dev src/server/server.ts
```
Ou, se tiver um script no `package.json`, use:
```sh
npm run dev
```

Agora seu banco est√° conectado e funcionando! üöÄ